<!DOCTYPE html>
<html>
   <head>
      <title>Student Leave Application System</title>
      <link rel="stylesheet" href="styles.css">
   </head>
   <body>
      <header>
         <h1>Student Leave Application System</h1>
      </header>
      <div class="container">
         <form>
            <label for="leave-type">Leave Type:</label>
            <select id="leave-type" name="leave-type">
               <option value="sick Leave">Sick Leave</option>
               <option value="vacation Leave">Vacation Leave</option>
               <option value="personal Leave">Personal Leave</option>
            </select>
            <label for="Name">Name:</label>
            <input type="text" id="Name" name="Name">
            <label for="Enrollment_No">Enrollment_No:</label>
            <input type="Text" id="Enrollment_No" name="Enrollment_No">
            <label for="start-date">Start Date:</label>
            <input type="date" id="start-date" name="start-date">
            <label for="end-date">End Date:</label>
            <input type="date" id="end-date" name="end-date">
            <label for="reason">Reason for Leave:</label>
            <textarea id="reason" name="reason"></textarea>
            <input type="submit" value="Submit" onclick="location.href='Login_student.html'">
         </form>
      </div>
      <footer>
         <p>&copy; Web Dangal Team Number 12 </p>
         <p>Harsh Tiwari, Varun Soni, Shubham Kumar, Shrut Jain</p>
         <a href="dangal.html" style="color:aliceblue">Leave Policies</a>
      </footer>
   </body>
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>

        <script id="Mainscript">
            const firebaseConfig = {
            apiKey: "AIzaSyCXFTS8LfpTtdjATg7csxxl9C7OgJPchDM",
            authDomain: "web-dangal.firebaseapp.com",
            projectId: "web-dangal",
            storageBucket: "web-dangal.appspot.com",
            messagingSenderId: "525162736845",
            appId: "1:525162736845:web:cdff5a1aa262e957058d84"
            };
            const app =firebase.initializeApp(firebaseConfig);
            let db = firebase.firestore();
            var a ="Data";
            var b = document.getElementById("leave-type").value;
            var c = document.getElementById("start-date").value;
            var d = document.getElementById("end-date").value;
            var e = document.getElementById("Enrollment_No").value;
            var f = document.getElementById("reason").value;
            var x = document.getElementById("Name").value;
            
            function ADD(){
            location.href='Login_student.html';
            db.collection("Data").add({
            Name:x,
            Leave_Type:b,
            Enrollment_No:e,
            Start_Date:c,
            End_Date:d,
            Text:f,
            Status:false,
            max_Count:4,
            ID:docRef.id,
         

            })
            
            .then((docRef) => {
            console.log("Document written with ID: ", docRef.id);
            location.href="Login_student.html";
            })
            .catch((error) => {
            console.error("Error adding document: ",error);
            });
            }
            

            window.onload = GetAllDataOnce();
   </script>
</html>
